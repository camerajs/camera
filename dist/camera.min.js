!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.camera=e()}}(function(){return function e(t,n,r){function i(a,c){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,c)}s((r=r.apply(e,t||[])).next())})},i=function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},o=e("./events/load"),a=e("./preferences"),c=e("./lib/utils"),s=e("./lib/browser"),u=e("./lib/setCamera"),l=function(){function e(){e.ready()}return e.ready=function(){return r(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return e=new o.loadEvent,[4,e.eventListener()];case 1:return n.sent(),a.preferences.isHttps||c.utils.log("HTTPS required","warn"),s.browser.checkBrowserSupport()?t=new u.setCamera:c.utils.log("Your browser does not support camera","warn"),[2]}})})},e}();new l},{"./events/load":2,"./lib/browser":3,"./lib/setCamera":4,"./lib/utils":5,"./preferences":6}],2:[function(e,t,n){"use strict";var r=e("../lib/utils"),i=e("../lib/browser"),o=e("../preferences"),a=function(){function e(){}return e.prototype.eventListener=function(){var e=this;return new Promise(function(t){window.addEventListener("load",function(){e.eventCallback(),t()})})},e.prototype.eventCallback=function(){o.preferences.isHttps=r.utils.isHttps(),o.preferences.isMobile=i.browser.checkMobile()},e}();n.loadEvent=a},{"../lib/browser":3,"../lib/utils":5,"../preferences":6}],3:[function(e,t,n){"use strict";var r=e("../preferences"),i=function(){function e(){}return e.checkBrowserSupport=function(){var e=navigator;return r.preferences.browserCameraSupport=!!(e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia),r.preferences.browserCameraSupport},e.checkMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor),e},e}();n.browser=i},{"../preferences":6}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){function e(){var t=e.getCameraTags();t.length&&this.createCameraView(t)}return e.getCameraTags=function(){return document.querySelectorAll("[data-camera]")},e.prototype.createCameraView=function(t){e.listCameraAndMicrophones();for(var n='<?xml version="1.0" ?><svg style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M19,7h-0.4c-0.4,0-0.7-0.2-0.9-0.6l-1.2-2.3c-0.3-0.7-1-1.1-1.8-1.1H9.2C8.5,3,7.8,3.4,7.4,4.1L6.3,6.4   C6.1,6.8,5.8,7,5.4,7H5c-2.2,0-4,1.8-4,4v6c0,2.2,1.8,4,4,4h14c2.2,0,4-1.8,4-4v-6C23,8.8,21.2,7,19,7z M12,17c-2.2,0-4-1.8-4-4   c0-2.2,1.8-4,4-4s4,1.8,4,4C16,15.2,14.2,17,12,17z" id="photo"/></g></svg>',r=function(e){var r=t[e];r.className="camerajs-element",r.innerHTML='<video id="camerajs-'+e+'" width="640" height="480" autoplay></video><canvas id="camerajs-canvas-'+e+'" width="640" height="480"></canvas><div class="camerajs-menu"><a>'+n+"</a></div>";var i=document.getElementById("camerajs-"+e);navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){i.src=window.URL.createObjectURL(e),i.play()});var o=document.getElementById("camerajs-canvas-"+e),a=o.getContext("2d");r.querySelector(".camerajs-menu>a").addEventListener("click",function(){a.drawImage(i,0,0,640,480)})},i=0;i<t.length;i++)r(i)},e.listCameraAndMicrophones=function(){var e={};navigator.mediaDevices.enumerateDevices().then(function(t){return t.forEach(function(t){e[t.kind]||(e[t.kind]=[]),e[t.kind].push({label:t.label,deviceId:t.deviceId})}),0==e.videoinput.length&&r.utils.log("No video input found on this device","warn"),e}).catch(function(e){return r.utils.log(e.name+": "+e.message,"warn"),!1})},e}();n.setCamera=i},{"./utils":5}],5:[function(e,t,n){"use strict";var r=e("../preferences"),i=function(){function e(){}return e.log=function(e,t){if(e="Camera.js: "+e,r.preferences.debug)switch(t){case"warn":console.warn(e);break;case"info":console.info(e);break;case"debug":console.debug(e);break;default:console.log(e)}},e.isHttps=function(){return"https:"==document.location.protocol},e.validUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/;return t.test(e)},e}();n.utils=i},{"../preferences":6}],6:[function(e,t,n){"use strict";var r=function(){function e(){}return e}();r.isHttps=!1,r.isMobile=!1,r.debug=!0,r.browserCameraSupport=!1,n.preferences=r},{}]},{},[1])(1)});